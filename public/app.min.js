!function(n){function o(){n(document).on("submit","#shellForm",function(o){o.preventDefault()
var e=n('[name="exec"]').val()
t.push(e),i=t.length,n.post("/",{exec:e}).done(function(){n('[name="exec"]').val("")})})}function e(){n(document).on("keydown",'#logs [name="exec"]',function(o){38!==o.which&&40!==o.which||(38===o.which?t.length>=0&&(i-=1):40===o.which&&t.length>=i+1&&(i+=1),n('[name="exec"]').val(t[i]))})}function c(){n(document).on("click",".process-wrap .badge",function(o){var e=n(this).data("process-id")
socket.emit("killProcess",{id:e})})}var t=[],i=null
n(document).ready(function(){o(),e(),c()})}(jQuery),function(n,o){function e(n){o("#logs .shell-body").append("<li>["+n.date+"] "+t(n.type)+" - "+n.data+"</li>")}function c(n){o(".process-wrap").append('<span class="badge" data-process-id="'+n.id+'">'+n.data+"</span>")}function t(n){return"response"===n?"":"error"===n?'<span class="color-error">[ERROR]</span>':"exit"===n?'<span class="color-complete">[exit code]</span>':void 0}var i=n.connect("/")
i.on("init",function(n){n.history.forEach(function(n){e(n)}),n.process.forEach(function(n){c(n)})}),["response","error","exit"].forEach(function(n){i.on(n,function(n){e(n)})}),i.on("clear",function(){o("#logs .shell-body li").remove()}),i.on("response",function(n){n.id&&c(n)}),i.on("exit",function(n){o('[data-process-id="'+n.id+'"]').remove()})}(io,jQuery)
